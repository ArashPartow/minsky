<div *ngIf="loading" class="spinner">
  <mat-spinner color="#ffa600" mode="indeterminate"></mat-spinner>
</div>

<ng-container *ngIf="!loading">
  <ng-container *ngIf="router.url.includes('headless');">
    <router-outlet></router-outlet>
  </ng-container>
  <ng-container *ngIf="!router.url.includes('headless');">
    <minsky-header></minsky-header>
    <div class="tabs-section">
      <div class="tabs example-button-row">
        <button (click)="changeTab('minsky.canvas')" class="wiring" mat-raised-button>
          Wiring
        </button>
        <button (click)="changeTab('minsky.equationDisplay')" class="equations" mat-raised-button>
          Equations
        </button>
        <button (click)="changeTab('itemTab/summary')" class="summary" mat-raised-button>
          Summary
        </button>
        <button (click)="changeTab('minsky.phillipsDiagram')" class="phillips" mat-raised-button>
          Phillips diagram
        </button>
         <div *ngFor="let tab of publicationTabs; let i=index">
          <button (click)="changeTab('minsky.publicationTabs.@elem.'+i)" class="pubTab" mat-raised-button>
            {{tab}}
          </button>
         </div>
        <button (click)="addPubTab()" class="phillips" mat-raised-button>
          +
        </button>
          
        <span class="spacer"></span>

        <button class="variables minsky-service" mat-raised-button (click)="startTerminal()">
          Terminal
        </button>
      </div>
    <router-outlet></router-outlet>
  </div>
  </ng-container>
</ng-container>
